(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{133:function(e,t,n){},176:function(e,t,n){e.exports={counter:"styles_counter__2rMGS"}},207:function(e,t,n){},209:function(e,t,n){},328:function(e,t,n){},358:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(16),i=n.n(c),o=(n(207),n(9)),s=n.n(o),l=n(18),u=n(167),d=(n.p,n(133),n(13)),j=n(25),b=n(19),p=n(14),m=(n(209),n(96)),h=n.n(m),f=n(1);function O(e){var t=e.todoList,n=e.onTodoClick;return Object(f.jsxs)("ul",{className:"todo-list",children:[t.map((function(e,t){return Object(f.jsx)("li",{className:h()({"todo-item":!0,completed:"completed"===e.status}),onClick:function(){return function(e,t){n&&n(e,t)}(e,t)},children:e.title},e.id)})),";"]})}O.defaultProps={todoList:[],onTodoClick:null};var g=O,x=n(47),v=n.n(x),y=n(421),w=n(26);var S=function(e){var t=e.name,n=e.label,r=e.form,a=e.disable;return r.errors,r.formState,Object(f.jsx)(w.a,{name:t,control:r.control,render:function(e){var t=e.field,r=t.onChange,c=t.onBlur,i=t.value,o=t.name,s=e.fieldState,l=s.invalid,u=s.error;return Object(f.jsx)(y.a,{margin:"normal",variant:"outlined",fullWidth:!0,label:n,error:l,helperText:null===u||void 0===u?void 0:u.message,onChange:r,onBlur:c,name:o,value:i,disabled:a})}})},C=n(64),k=n(32);var N=function(e){var t=k.b().shape({title:k.d().required("please entert title").min(5,"title is too short")}),n=Object(w.e)({defaultValues:{title:""},resolver:Object(C.a)(t)}),r=Object(w.e)().register;return Object(f.jsx)("form",{onSubmit:n.handleSubmit((function(t){console.log("Todo Form 1",t);var r=e.onSubmit;r&&r(t),n.reset()})),children:Object(f.jsx)(S,{name:"title",label:"Todo",form:n,register:r})})};function P(e){var t=Object(d.g)(),n=Object(d.i)(),a=Object(d.h)(),c=Object(r.useState)([{id:1,title:"Eat",status:"new"},{id:2,title:"Sleep",status:"completed"},{id:3,title:"Code",status:"new"}]),i=Object(p.a)(c,2),o=i[0],s=i[1],l=Object(r.useState)((function(){var e=v.a.parse(a.search);return console.log(e),e.status||"all"})),u=Object(p.a)(l,2),m=u[0],h=u[1];Object(r.useEffect)((function(){var e=v.a.parse(a.search);h(e.status||"all")}),[a.search]);var O=o.filter((function(e){return"all"===m||m===e.status}));console.log(O);return Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:" What to do"}),Object(f.jsx)(N,{onSubmit:function(e){console.log("from submit",e);var t={id:o.length+1,title:e.title,status:"new"},n=[].concat(Object(b.a)(o),[t]);s(n)}}),Object(f.jsx)(g,{todoList:O,onTodoClick:function(e,t){var n=Object(b.a)(o);n[t]=Object(j.a)(Object(j.a)({},n[t]),{},{status:"new"===n[t].status?"completed":"new"}),s(n),console.log(e,t)}}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:function(){t.push({pathname:n.path,search:v.a.stringify({status:"all"})})},children:" Show all"}),Object(f.jsx)("button",{onClick:function(){t.push({pathname:n.path,search:v.a.stringify({status:"completed"})})},children:" Show Completed"}),Object(f.jsx)("button",{onClick:function(){t.push({pathname:n.path,search:v.a.stringify({status:"new"})})},children:" Showw new"})]})]})}var I=function(e){return Object(f.jsx)("div",{children:"Todo detail Page"})};var T=function(e){return console.log("notFound"),Object(f.jsx)("div",{children:"NOT fOUND"})};function _(e){var t=Object(d.i)();return console.log(t.path),Object(f.jsx)("div",{children:Object(f.jsxs)(d.d,{children:[Object(f.jsx)(d.b,{path:t.path,component:P,exact:!0}),Object(f.jsx)(d.b,{path:"".concat(t.path,"/:todoId"),component:I}),Object(f.jsx)(d.b,{component:T})]})})}_.prototype={};n(328);function R(e){var t=e.todoList;e.onTodoClick;return Object(f.jsxs)("ul",{className:"todo-list",children:[t.map((function(e,t){return Object(f.jsx)("li",{className:h()({"todo-item":!0,completed:"completed"===e.status}),children:e.title},e.id)})),";"]})}R.defaultProps={todoList:[],onTodoClick:null};var A=R;function F(e){var t=Object(r.useState)([{id:1,title:"Eat",status:"new"},{id:2,title:"Sleep",status:"completed"},{id:3,title:"Code",status:"new"}]),n=Object(p.a)(t,2);n[0],n[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:" Album List"}),Object(f.jsx)(A,{}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{children:" Show all"}),Object(f.jsx)("button",{children:" Show Completed"}),Object(f.jsx)("button",{children:" Showw new"})]})]})}var E=n(175),B=n.n(E).a.create({baseURL:"https://api.ezfrontend.com/",headers:{"content-Type":"application/json"}});B.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),B.interceptors.response.use((function(e){return e.data}),(function(e){console.log("ERROR RESPONSE",e.response);var t=e.response,n=t.config,r=t.status,a=t.data;if(["/auth/local/register","/auth/local"].includes(n.url)&&400===r){var c=a.data||[],i=(c.length>0?c[0]:{}).messages||[],o=i.length>0?i[0]:{};throw new Error(o.message)}return Promise.reject(e)}));var q=B,L={getAll:function(e){return Object(l.a)(s.a.mark((function t(){var n,r,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Object(j.a)({},e))._start=!e._page||e._page<=1?0:(e._page-1)*(e._limit||50),delete n._page,t.next=5,q.get("/products",{params:n});case 5:return r=t.sent,t.next=8,q.get("/products/count",{params:n});case 8:return a=t.sent,t.abrupt("return",{data:r,pagination:{page:e._page,limit:e._limit,total:a}});case 10:case"end":return t.stop()}}),t)})))()},get:function(e){var t="/products/".concat(e);return q.get(t)},add:function(e){return q.post("/products",e)},update:function(e){var t="/products/".concat(e.id);return q.patch(t,e)},remove:function(e){var t="/products/".concat(e);return q.delete(t)}},D=n(31),M=n(50),z=Object(M.createSlice)({name:"couter123",initialState:0,reducers:{increase:function(e,t){return e+1},decrease:function(e,t){return e-1}}}),V=z.actions,W=z.reducer,G=(V.increase,V.decrease,W),H=(n(176),n(398)),U=n(399);Object(H.a)({root:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:48,padding:"0 30px"}});var K=n(184),J=n(404),Q=n(405),Z=n(127),X=n(179),Y=n.n(X),$=n(401),ee=n(43),te=n(426),ne=n(411),re=n(410),ae=n(402),ce=n(430),ie=n(403),oe=(n(4),n(428)),se=n(429),le=n(400),ue=n(397),de=n(396),je=n(177),be=n.n(je),pe=n(178),me=n.n(pe);var he=function(e){var t=e.name,n=e.label,a=e.form,c=(a.errors,a.formState,a.control),i=Object(r.useState)(!1),o=Object(p.a)(i,2),s=o[0],l=o[1],u=function(){l(!s)};return Object(f.jsx)("div",{children:Object(f.jsx)(w.a,{name:t,control:c,render:function(e){var t=e.field,r=t.onChange,a=t.onBlur,c=t.value,i=t.name,o=(t.ref,e.fieldState),l=o.invalid,d=(o.isTouched,o.error);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(de.a,{error:d&&l,fullWidth:!0,margin:"normal",variant:"outlined",children:[Object(f.jsx)(se.a,{children:n}),Object(f.jsx)(oe.a,{id:i,error:l,type:s?"text":"password",label:n,endAdornment:Object(f.jsx)(le.a,{position:"end",children:Object(f.jsx)($.a,{"aria-label":"toggle password visibility",onClick:u,edge:"end",children:s?Object(f.jsx)(be.a,{}):Object(f.jsx)(me.a,{})})}),labelWidth:70,value:c,onBlur:a,onChange:r}),Object(f.jsx)(ue.a,{error:l,children:null===d||void 0===d?void 0:d.message})]})})}})})},fe=Object(H.a)((function(e){return{root:{paddingTop:e.spacing(1),position:"relative"},avatar:{margin:"0 auto",backgroundColor:e.palette.secondary.main},title:{margin:e.spacing(2,0,4,0),textAlign:"center"},submit:{margin:e.spacing(3,0,2,0)},process:{position:"absolute",top:e.spacing(-1),left:0,right:0}}}));var Oe,ge=function(e){var t=fe(),n=k.b().shape({fullName:k.d().required("Please enter your full name.").test("Should has at least two words.","Please enter at least two words.",(function(e){return e.split(" ").length>=2})),email:k.d().required("Please enter your email.").email("Please enter an valid email address."),password:k.d().required("Please enter your password.").min(6,"Please enter at least six characters."),retypePassword:k.d().required("Please retype your password.").oneOf([k.c("password")],"Password does not match.")}),r=Object(w.e)({defaultValues:{fullName:"",email:"",password:"",retypePassword:""},resolver:Object(C.a)(n)}),a=function(){var t=Object(l.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=e.onSubmit)){t.next=6;break}return t.next=4,a(n);case 4:if(!t.sent){t.next=6;break}r.reset();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=r.formState.isSubmitting;return Object(f.jsxs)("div",{className:t.root,children:[c&&Object(f.jsx)(ae.a,{className:t.process}),Object(f.jsx)(ce.a,{className:t.avatar,children:Object(f.jsx)(ie.a,{})}),Object(f.jsx)(Z.a,{className:t.title,component:"h3",variant:"h5",children:"Create An Account"}),Object(f.jsxs)("form",{onSubmit:r.handleSubmit(a),children:[Object(f.jsx)(S,{name:"fullName",label:"Todo",form:r}),Object(f.jsx)(S,{name:"email",label:"Email",form:r}),Object(f.jsx)(he,{name:"password",label:"Password",form:r}),Object(f.jsx)(he,{name:"retypePassword",label:"RetypePassword",form:r}),Object(f.jsx)(U.a,{disabled:c,type:"submit",className:t.submit,variant:"contained",color:"primary",fullWidth:!0,size:"large",children:"Create an acount"})]})]})},xe=n(39),ve={register:function(e){return q.post("/auth/local/register",e)},login:function(e){return q.post("/auth/local",e)}},ye={USER:"user",TOKEN:"token"},we=Object(M.createAsyncThunk)("user/register123",function(){var e=Object(l.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.register(t);case 2:return r=e.sent,localStorage.setItem(ye.TOKEN,r.jwt),localStorage.setItem(ye.USER,JSON.stringify(r.user)),e.abrupt("return",r.user);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Se=Object(M.createAsyncThunk)("user/login",function(){var e=Object(l.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.login(t);case 2:return r=e.sent,localStorage.setItem(ye.TOKEN,r.jwt),localStorage.setItem(ye.USER,JSON.stringify(r.user)),e.abrupt("return",r.user);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ce=Object(M.createSlice)({name:"user",initialState:{current:JSON.parse(localStorage.getItem(ye.USER))||{},settings:{}},reducers:{logout:function(e){localStorage.removeItem(ye.USER),localStorage.removeItem(ye.TOKEN),e.current={}}},extraReducers:(Oe={},Object(xe.a)(Oe,we.fulfilled,(function(e,t){e.current=t.payload})),Object(xe.a)(Oe,Se.fulfilled,(function(e,t){e.current=t.payload})),Oe)}),ke=Ce.actions,Ne=Ce.reducer,Pe=ke.logout,Ie=Ne,Te=n(63);var _e=function(e){var t=Object(D.b)(),n=Object(Te.b)().enqueueSnackbar,r=function(){var r=Object(l.a)(s.a.mark((function r(a){var c,i,o;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a.username=a.email,console.log("form submit1: ",a),c=we(a),r.next=6,t(c).unwrap();case 6:i=r.sent,(o=e.closeDialog)&&o(),console.log("new user",i),n("register successfully",{variant:"success"}),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(0),console.log("fail to register",r.t0),n(r.t0.message,{variant:"error"});case 17:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(e){return r.apply(this,arguments)}}();return Object(f.jsx)("div",{children:Object(f.jsx)(ge,{onSubmit:r})})},Re=n(407),Ae=n(408),Fe=n(409),Ee=Object(H.a)((function(e){return{root:{paddingTop:e.spacing(1),position:"relative"},avatar:{margin:"0 auto",backgroundColor:e.palette.secondary.main},title:{margin:e.spacing(2,0,4,0),textAlign:"center"},submit:{margin:e.spacing(3,0,2,0)},process:{position:"absolute",top:e.spacing(-1),left:0,right:0}}}));var Be=function(e){var t=Ee(),n=k.b().shape({identifier:k.d().required("Please enter your email.").email("Please enter an valid email address."),password:k.d().required("Please enter your password.")}),r=Object(w.e)({defaultValues:{identifier:"",password:""},resolver:Object(C.a)(n)}),a=function(){var t=Object(l.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=e.onSubmit)){t.next=6;break}return t.next=4,a(n);case 4:if(!t.sent){t.next=6;break}r.reset();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=r.formState.isSubmitting;return Object(f.jsxs)("div",{className:t.root,children:[c&&Object(f.jsx)(ae.a,{className:t.process}),Object(f.jsx)(ce.a,{className:t.avatar,children:Object(f.jsx)(ie.a,{})}),Object(f.jsx)(Z.a,{className:t.title,component:"h3",variant:"h5",children:"Sign in"}),Object(f.jsxs)("form",{onSubmit:r.handleSubmit(a),children:[Object(f.jsx)(S,{name:"identifier",label:"Email",form:r}),Object(f.jsx)(he,{name:"password",label:"Password",form:r}),Object(f.jsx)(U.a,{disabled:c,type:"submit",className:t.submit,variant:"contained",color:"primary",fullWidth:!0,size:"large",children:"Sign in"})]})]})};var qe=function(e){var t=Object(D.b)(),n=Object(Te.b)().enqueueSnackbar,r=function(){var r=Object(l.a)(s.a.mark((function r(a){var c,i;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a.username=a.email,console.log("form submit1: ",a),c=Se(a),r.next=6,t(c).unwrap();case 6:r.sent,(i=e.closeDialog)&&i(),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(0),console.log("fail to register",r.t0),n(r.t0.message,{variant:"error"});case 15:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}();return Object(f.jsx)("div",{children:Object(f.jsx)(Be,{onSubmit:r})})},Le=n(406),De=n(189),Me=n(431),ze=n(420),Ve=n(95),We=function(e){return e.cart.cartItems},Ge=Object(Ve.a)(We,(function(e){return e.reduce((function(e,t){return e+t.quantity}),0)})),He=Object(Ve.a)(We,(function(e){return e.reduce((function(e,t){return e+t.product.salePrice*t.quantity}),0)})),Ue=Object(H.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},link:{color:"white",textDecoration:"none"},closeButton:{position:"absolute",top:e.spacing(1),right:e.spacing(1),color:e.palette.grey[500],zIndex:1}}}));function Ke(){var e="login",t="register",n=Object(D.b)(),a=!!Object(D.c)((function(e){return e.user.current})).id,c=Object(r.useState)(!1),i=Object(p.a)(c,2),o=i[0],s=i[1],l=Object(r.useState)(e),u=Object(p.a)(l,2),j=u[0],b=u[1],m=Object(r.useState)(null),h=Object(p.a)(m,2),O=h[0],g=h[1],x=Object(D.c)(Ge),v=Object(d.g)(),y=function(){s(!1)},w=function(){g(null)},S=Ue();return Object(f.jsxs)("div",{className:S.root,children:[Object(f.jsx)(J.a,{position:"static",children:Object(f.jsxs)(Q.a,{children:[Object(f.jsx)(Y.a,{className:S.menuButton}),Object(f.jsx)(Z.a,{variant:"h6",className:S.title,children:Object(f.jsx)(ee.b,{className:S.link,to:"/products",children:"EZ SHOP"})}),Object(f.jsx)(ee.c,{className:S.link,to:"/todos",activeClassName:"active-menu",children:Object(f.jsx)(U.a,{color:"inherit",children:"Todo"})}),Object(f.jsx)(ee.c,{className:S.link,to:"/albums",activeClassName:"active",children:Object(f.jsx)(U.a,{color:"inherit",children:"Albums"})}),!a&&Object(f.jsx)(U.a,{color:"inherit",onClick:function(){s(!0)},children:"Login"}),Object(f.jsx)($.a,{"aria-label":"show 4 new mails",color:"inherit",onClick:function(){v.push("/cart")},children:Object(f.jsx)(Le.a,{badgeContent:x,color:"secondary",children:Object(f.jsx)(Re.a,{})})}),a&&Object(f.jsx)($.a,{onClick:function(e){g(e.currentTarget)},children:Object(f.jsx)(Ae.a,{})})]})}),Object(f.jsxs)(De.a,{anchorEl:O,keepMounted:!0,open:Boolean(O),onClose:w,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null,children:[Object(f.jsx)(Me.a,{onClick:w,children:"Profile"}),Object(f.jsx)(Me.a,{onClick:w,children:"My account"}),Object(f.jsx)(Me.a,{onClick:function(){var e=Pe();w(),n(e)},children:"Logout"})]}),Object(f.jsxs)(te.a,{disableEscapeKeyDown:!0,disableBackdropClick:!0,open:o,onClose:y,"aria-labelledby":"form-dialog-title",children:[Object(f.jsx)($.a,{className:S.closeButton,onClick:y,children:Object(f.jsx)(Fe.a,{})}),Object(f.jsxs)(re.a,{children:[j===t&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(_e,{closeDialog:y}),Object(f.jsx)(ze.a,{textAlign:"center",children:Object(f.jsx)(U.a,{color:"primary",onClick:function(){return b(e)},children:"Already an account. Login here"})})]}),j===e&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(qe,{closeDialog:y}),Object(f.jsx)(ze.a,{textAlign:"center",children:Object(f.jsx)(U.a,{color:"primary",onClick:function(){return b(t)},children:"Don't have an account. Register here"})})]})]}),Object(f.jsx)(ne.a,{children:Object(f.jsx)(U.a,{onClick:y,color:"primary",children:"Cancel"})})]})]})}var Je=n(415),Qe=n(360),Ze=n(416),Xe="https://api.ezfrontend.com",Ye="https://via.placeholder.com/444",$e=n(188),et=Object(H.a)((function(e){return{smallImage:{paddingTop:e.spacing(1),borderRadius:"4px"},active:{borderColor:e.palette.primary.main}}}));var tt=function(e){var t,n=e.product,r=void 0===n?{}:n,a=et(),c=r.thumbnail?"".concat(Xe).concat(null===(t=r.thumbnail)||void 0===t?void 0:t.url):Ye;return Object(f.jsxs)(ze.a,{children:[Object(f.jsx)($e.a,{smallImage:{alt:"".concat(r.name),isFluidWidth:!0,src:"".concat(c)},largeImage:{src:"".concat(c),width:1200,height:1800}}),Object(f.jsx)(ze.a,{className:a.smallImage&&a.active,onClick:function(e){var t=e.target;t.classList.contains("active")?t.classList.remove("active"):t.classList.add("active")},children:Object(f.jsx)("img",{src:c,alt:r.name,width:"20%"})})]})};function nt(e){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)}Object(H.a)((function(e){return{root:{paddingBottom:e.spacing(2),borderBottom:"1px solid ".concat(e.palette.grey[300])},shortDescription:{margin:e.spacing(2,0)},priceBox:{backgroundColor:e.palette.grey[200],padding:e.spacing(2)},salePrice:{fontSize:e.typography.h4.fontSize,marginRight:e.spacing(3),fontWeight:"bold"},originalPrice:{marginRight:e.spacing(2),textDecoration:"line-through"},promotionPercent:{}}}));var rt=Object(H.a)((function(e){return{root:{paddingBottom:e.spacing(2),borderBottom:"1px solid ".concat(e.palette.grey[200])},description:{margin:e.spacing(2,0)},priceBox:{padding:e.spacing(2),backgroundColor:e.palette.grey[100]},salePrice:{marginRight:e.spacing(3),fontSize:e.typography.h4.fontSize,fontWeight:"bold"},originalPrice:{marginRight:e.spacing(2),textDecoration:"line-through"}}}));var at=function(e){var t=e.product,n=void 0===t?{}:t,r=rt(),a=n.name,c=n.shortDescription,i=n.salePrice,o=n.originalPrice,s=n.promotionPercent;return Object(f.jsxs)(ze.a,{className:r.root,children:[Object(f.jsx)(Z.a,{component:"h1",variant:"h4",children:a}),Object(f.jsx)(Z.a,{variant:"body2",className:r.description,children:c}),Object(f.jsxs)(ze.a,{className:r.priceBox,children:[Object(f.jsx)(ze.a,{component:"span",className:r.salePrice,children:nt(i)}),s>0&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ze.a,{component:"span",className:r.originalPrice,children:nt(o)}),Object(f.jsx)(ze.a,{component:"span",children:"-".concat(s,"%")})]})]})]})},ct=n(412),it=n(413),ot=Object(H.a)((function(e){return{root:{},box:{display:"flex",flexFlow:"row nowrap",alignItems:"center",maxWidth:"200px"}}}));var st=function(e){var t=ot(),n=e.form,r=e.name,a=e.label,c=e.disabled,i=(n.errors,n.setValue),o=n.control;return Object(f.jsx)("div",{children:Object(f.jsx)(w.a,{name:r,control:o,render:function(e){var n=e.field,r=n.onChange,o=n.onBlur,s=n.value,l=n.name,u=(n.ref,e.fieldState),d=u.invalid,j=(u.isTouched,u.error);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(de.a,{error:j&&d,fullWidth:!0,margin:"normal",variant:"outlined",children:[Object(f.jsx)(Z.a,{children:a}),Object(f.jsxs)(ze.a,{className:t.box,children:[Object(f.jsx)($.a,{onClick:function(){return i(l,Number.parseInt(s)?Number.parseInt(s)-1:1)},children:Object(f.jsx)(ct.a,{})}),Object(f.jsx)(oe.a,{id:l,error:d,type:"number",disabled:c,value:s,onChange:r,onBlur:o}),Object(f.jsx)($.a,{onClick:function(){return i(l,Number.parseInt(s)?Number.parseInt(s)+1:1)},children:Object(f.jsx)(it.a,{})})]}),Object(f.jsx)(ue.a,{error:d,children:null===j||void 0===j?void 0:j.message})]})})}})})};var lt=function(e){var t=e.onSubmit,n=void 0===t?null:t,r=k.b().shape({quantity:k.a().required("Please enter quantity").min(1,"Minimum value is 1").typeError("Please enter a number")}),a=Object(w.e)({defaultValues:{quantity:1},resolver:Object(C.a)(r)}),c=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!n){e.next=4;break}return e.next=4,n(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("form",{onSubmit:a.handleSubmit(c),children:[Object(f.jsx)(st,{name:"quantity",label:"Quantity",form:a}),Object(f.jsx)(U.a,{type:"submit",variant:"contained",color:"primary",style:{width:"250px"},size:"large",children:"Add to cart"})]})},ut=(0,n(50).createSlice)({name:"cart",initialState:{showMiniCart:!1,cartItems:[]},reducers:{showMiniCart:function(e){e.showMiniCart=!0},hideMiniCart:function(e){e.showMiniCart=!1},addToCart:function(e,t){var n=t.payload,r=e.cartItems.findIndex((function(e){return e.id===n.id}));r>=0?e.cartItems[r].quantity+=n.quantity:e.cartItems.push(n)},setQuantity:function(e,t){var n=t.payload,r=n.id,a=n.quantity,c=e.cartItems.findIndex((function(e){return e.id===r}));c>=0&&(e.cartItems[c].quantity=a)},removeFromCart:function(e,t){var n=t.payload;e.cartItems=e.cartItems.filter((function(e){return e.id!==n}))}}}),dt=ut.actions,jt=ut.reducer,bt=(dt.showMiniCart,dt.hideMiniCart,dt.addToCart),pt=(dt.setQuantity,dt.removeFromCart,jt),mt=n(414),ht=Object(H.a)((function(e){return{root:{display:"flex",flexFlow:"row nowrap",justifyContent:"center",alignItems:"center",padding:0,listStyleType:"none","& > li":{padding:e.spacing(2,4)},"& > li > a":{color:e.palette.grey[700]},"& > li > a.active":{color:e.palette.primary.main,textDecoration:"underline"}}}}));var ft=function(e){var t=ht(),n=Object(d.i)().url;return Object(f.jsxs)(ze.a,{component:"ul",className:t.root,children:[Object(f.jsx)("li",{children:Object(f.jsx)(mt.a,{component:ee.c,to:n,exact:!0,children:"Description"})}),Object(f.jsx)("li",{children:Object(f.jsx)(mt.a,{component:ee.c,to:"".concat(n,"/additional"),exact:!0,children:"Additional Information"})}),Object(f.jsx)("li",{children:Object(f.jsx)(mt.a,{component:ee.c,to:"".concat(n,"/reviews"),exact:!0,children:"Reviews"})})]})},Ot=n(183),gt=n.n(Ot);var xt=function(e){var t=e.product,n=void 0===t?{}:t,r=gt.a.sanitize(n.description);return Object(f.jsx)(Qe.a,{elevation:0,style:{padding:"15px"},children:Object(f.jsx)("div",{dangerouslySetInnerHTML:{__html:r}})})};var vt=function(e){return Object(f.jsx)("div",{children:"Additional"})};var yt=function(e){return Object(f.jsx)("div",{children:"Reviews"})},wt=Object(H.a)((function(e){return{root:{paddingBottom:e.spacing(3)},left:{width:"400px",padding:e.spacing(1.5),borderRight:"1px solid ".concat(e.palette.grey[300])},right:{flex:"1 1 0",padding:e.spacing(1.5)},loading:{position:"fixed",top:0,left:0,width:"100%"}}}));var St=function(){var e=wt(),t=Object(d.i)(),n=t.params.productId,a=t.url,c=function(e){var t=Object(r.useState)({}),n=Object(p.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(!0),o=Object(p.a)(i,2),u=o[0],d=o[1];return Object(r.useEffect)((function(){Object(l.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.get(e);case 3:n=t.sent,c(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("failed to fetch product: ",t.t0);case 10:d(!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()}),[e]),{product:a,loading:u}}(n),i=c.product,o=c.loading,u=Object(D.b)();return o?Object(f.jsx)(ze.a,{className:e.loading,children:Object(f.jsx)(ae.a,{})}):Object(f.jsx)(ze.a,{className:e.root,children:Object(f.jsxs)(Je.a,{children:[Object(f.jsx)(Qe.a,{elevation:0,children:Object(f.jsxs)(Ze.a,{container:!0,children:[Object(f.jsx)(Ze.a,{item:!0,className:e.left,children:Object(f.jsx)(tt,{product:i})}),Object(f.jsxs)(Ze.a,{item:!0,className:e.right,children:[Object(f.jsx)(at,{product:i}),Object(f.jsx)(lt,{onSubmit:function(e){var t=e.quantity;console.log("quatity ",t);var n=bt({id:i.id,product:i,quantity:t});console.log("actions add to cart",n),u(n)}})]})]})}),Object(f.jsx)(ft,{}),Object(f.jsxs)(d.d,{children:[Object(f.jsx)(d.b,{exact:!0,path:a,children:Object(f.jsx)(xt,{product:i})}),Object(f.jsx)(d.b,{path:"".concat(a,"/additional"),component:vt}),Object(f.jsx)(d.b,{path:"".concat(a,"/reviews"),component:yt})]})]})})},Ct=n(423),kt=n(417);function Nt(e){var t=e.length;return Object(f.jsx)(ze.a,{children:Object(f.jsx)(Ze.a,{container:!0,children:Array.from(new Array(t)).map((function(e,t){return Object(f.jsx)(Ze.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(f.jsxs)(ze.a,{padding:1,children:[Object(f.jsx)(kt.a,{variant:"rect",width:"100%",height:200}),Object(f.jsx)(kt.a,{}),Object(f.jsx)(kt.a,{width:"60%"})]})},t)}))})})}Nt.defaultProps={length:6};var Pt=Nt;var It=function(e){var t,n=e.product,r=Object(d.g)(),a=n.thumbnail?"".concat(Xe).concat(null===(t=n.thumbnail)||void 0===t?void 0:t.url):Ye;return Object(f.jsxs)(ze.a,{padding:1,onClick:function(){r.push("/products/".concat(n.id))},children:[Object(f.jsx)(ze.a,{padding:1,minHeight:"215px",children:Object(f.jsx)("img",{src:a,alt:n.name,width:"100%"})}),Object(f.jsx)(Z.a,{variant:"body2",children:n.name}),Object(f.jsxs)(Z.a,{variant:"body2",children:[Object(f.jsx)(ze.a,{component:"span",fontWeight:"bold",fontSize:"16px",mr:1,children:nt(n.salePrice)}),n.promotionPercent>0?" -".concat(n.promotionPercent,"%"):""]})]})};function Tt(e){var t=e.data;return Object(f.jsx)(ze.a,{children:Object(f.jsx)(Ze.a,{container:!0,children:t.map((function(e){return Object(f.jsx)(Ze.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(f.jsx)(It,{product:e})},e.id)}))})})}Tt.defaultProps={data:[]};var _t=Tt,Rt=n(422),At=n(418);var Ft=function(e){var t=e.currentSort,n=e.onChange;return Object(f.jsxs)(Rt.a,{value:t,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){n&&n(t)},"aria-label":"disabled tabs example",children:[Object(f.jsx)(At.a,{label:"T\u0103ng d\u1ea7n",value:"salePrice:ASC"}),Object(f.jsx)(At.a,{label:"Gi\u1ea3m d\u1ea7n",value:"salePrice:DESC"})]})},Et={getAll:function(e){return q.get("/categories",{params:e})},get:function(e){var t="/categories/".concat(e);return q.get(t)},add:function(e){return q.post("/categories",e)},update:function(e){var t="/categories/".concat(e.id);return q.patch(t,e)},remove:function(e){var t="/categories/".concat(e);return q.delete(t)}};function Bt(e){var t=e.length;return Object(f.jsx)(ze.a,{children:Object(f.jsx)(Ze.a,{container:!0,children:Array.from(new Array(t)).map((function(e,t){return Object(f.jsx)(Ze.a,{item:!0,children:Object(f.jsx)(ze.a,{paddingTop:1,children:Object(f.jsx)(kt.a,{variant:"text",width:200,height:20})})},t)}))})})}Bt.defaultProps={length:6};var qt=Bt,Lt=Object(H.a)((function(e){return{root:{padding:e.spacing(2)},menu:{padding:"0",margin:"0","& > li":{marginTop:e.spacing(1),listStyle:"none",transition:"all .25s","&:hover":{color:e.palette.primary.dark,cursor:"pointer"}}}}}));var Dt=function(e){var t=e.onChange,n=Lt(),a=Object(r.useState)([]),c=Object(p.a)(a,2),i=c[0],o=c[1],u=Object(r.useState)(!0),d=Object(p.a)(u,2),j=d[0],b=d[1];return Object(r.useEffect)((function(){Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Et.getAll();case 3:t=e.sent,o(t.map((function(e){return{id:e.id,name:e.name}}))),console.log("cateloryList: ",t),console.log("catelory id,name :",i[1]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Failed to fetch category id: ",e.t0);case 12:b(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[]),Object(f.jsxs)(ze.a,{className:n.root,children:[Object(f.jsx)(Z.a,{variant:"subtitle2",children:"DANH M\u1ee4C S\u1ea2N PH\u1ea8M"}),j?Object(f.jsx)(qt,{length:i.length}):Object(f.jsx)("ul",{className:n.menu,children:i.map((function(e){return Object(f.jsx)("li",{onClick:function(){return function(e){t&&t(e)}(e)},children:Object(f.jsx)(Z.a,{variant:"body2",children:e.name})},e.id)}))})]})},Mt=Object(H.a)((function(e){return{root:{padding:e.spacing(2),borderTop:"1px solid ".concat(e.palette.grey[300])},range:{display:"flex",flexFlow:"row nowrap",marginBottom:e.spacing(1),marginTop:e.spacing(1),"& > span":{marginRight:e.spacing(1),marginLeft:e.spacing(1)}}}}));var zt=function(e){var t=e.onChange,n=Mt(),a=Object(r.useState)({salePrice_gte:0,salePrice_lte:0}),c=Object(p.a)(a,2),i=c[0],o=c[1],s=function(e){var t=e.target,n=t.name,r=t.value;o((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(xe.a)({},n,r))}))};return Object(f.jsxs)(ze.a,{className:n.root,children:[Object(f.jsx)(Z.a,{variant:"subtitle2",children:"KHO\u1ea2NG GI\xc1"}),Object(f.jsxs)(ze.a,{className:n.range,children:[Object(f.jsx)(y.a,{name:"salePrice_gte",value:i.salePrice_gte,onChange:s}),Object(f.jsx)("span",{children:"-"}),Object(f.jsx)(y.a,{name:"salePrice_lte",value:i.salePrice_lte,onChange:s})]}),Object(f.jsx)(U.a,{variant:"outlined",color:"primary",size:"small",onClick:function(){t&&Number.parseInt(i.salePrice_lte)>0&&t(i),o({salePrice_gte:0,salePrice_lte:0})},children:"\xc1p d\u1ee5ng"})]})},Vt=n(419),Wt=n(425),Gt=Object(H.a)((function(e){return{root:{padding:e.spacing(2),borderTop:"1px solid ".concat(e.palette.grey[300])},list:{margin:0,padding:0,listStyle:"none","& > li":{margin:0}}}}));var Ht=function(e){var t=e.filters,n=void 0===t?{}:t,r=e.onChange,a=Gt(),c=function(e){if(r){var t=e.target,n=t.name,a=t.checked;r(Object(xe.a)({},n,a))}};return Object(f.jsxs)(ze.a,{className:a.root,children:[Object(f.jsx)(Z.a,{variant:"subtitle2",children:"D\u1ecaCH V\u1ee4"}),Object(f.jsx)("ul",{className:a.list,children:[{value:"isPromotion",label:"C\xf3 khuy\u1ebfn m\xe3i"},{value:"isFreeShip",label:"Mi\u1ec5n ph\xed v\u1eadn chuy\u1ec3n"}].map((function(e){return Object(f.jsx)("li",{children:Object(f.jsx)(Vt.a,{control:Object(f.jsx)(Wt.a,{checked:Boolean(n[e.value]),onChange:c,name:e.value,color:"primary"}),label:e.label})},e.value)}))})]})};var Ut=function(e){var t=e.filters,n=e.onChange,r=function(e){n&&n(e)};return Object(f.jsxs)(ze.a,{children:[Object(f.jsx)(Dt,{onChange:function(e){if(n){var t={"category.id":e.id,"category.name":e.name};n(t)}}}),Object(f.jsx)(zt,{onChange:r}),Object(f.jsx)(Ht,{filters:t,onChange:r})]})},Kt=n(432),Jt=Object(H.a)((function(e){return{root:{display:"flex",flexFlow:"row wrap",padding:0,alignItems:"center",listStyle:"none",margin:e.spacing(2,0),"& > li":{pading:e.spacing(1),margin:0,marginRight:e.spacing(1)}}}})),Qt=[{id:1,getLabel:function(){return"Giao h\xe0ng mi\u1ec5n ph\xed"},isActive:function(e){return e.isFreeShip},isVisible:function(){return!0},isRemovable:!1,onRemove:function(){},onToggle:function(e){var t=Object(j.a)({},e);return t.isFreeShip?delete t.isFreeShip:t.isFreeShip=!0,t}},{id:2,getLabel:function(){return"C\xf3 khuy\u1ebfn m\xe3i"},isActive:function(){return!0},isVisible:function(e){return e.isPromotion},isRemovable:!0,onRemove:function(e){var t=Object(j.a)({},e);return delete t.isPromotion,t},onToggle:function(){}},{id:3,getLabel:function(e){return"T\u1eeb ".concat(e.salePrice_gte," \u0111\u1ebfn ").concat(e.salePrice_lte)},isActive:function(){return!0},isVisible:function(e){return Number.parseInt(e.salePrice_gte)>0&&Number.parseInt(e.salePrice_lte)>0&&Object.keys(e).includes("salePrice_gte")&&Object.keys(e).includes("salePrice_lte")},isRemovable:!0,onRemove:function(e){var t=Object(j.a)({},e);return delete t.salePrice_gte,delete t.salePrice_lte,t},onToggle:function(){}},{id:4,getLabel:function(e){return"".concat(e["category.name"])},isActive:function(){return!0},isVisible:function(e){return e["category.name"]},isRemovable:!0,onRemove:function(e){var t=Object(j.a)({},e);return delete t["category.name"],delete t["category.id"],t},onToggle:function(){}}];var Zt=function(e){var t=e.filters,n=void 0===t?{}:t,a=e.onChange,c=void 0===a?null:a,i=Jt(),o=Object(r.useMemo)((function(){return Qt.filter((function(e){return e.isVisible(n)}))}),[n]);return Object(f.jsx)(ze.a,{component:"ul",className:i.root,children:o.map((function(e){return Object(f.jsx)("li",{children:Object(f.jsx)(Kt.a,{label:e.getLabel(n),color:e.isActive(n)?"primary":"default",clickable:!e.isRemovable,onClick:e.isRemovable?null:function(){if(c){var t=e.onToggle(n);c(t)}},onDelete:e.isRemovable?function(){if(c){var t=e.onRemove(n);c(t)}}:null})},e.id)}))})},Xt=Object(H.a)((function(e){return{root:{},left:{width:"250px"},right:{flex:"1 1 0"},pagination:{display:"flex",flexFlow:"row nowrap",justifyContent:"center",padding:"30px 0 20px"}}}));var Yt=function(e){var t=Xt(),n=Object(d.g)(),a=Object(d.h)(),c=Object(r.useMemo)((function(){var e=v.a.parse(a.search);return Object(j.a)(Object(j.a)({},e),{},{_page:Number.parseInt(e._page)||1,_limit:Number.parseInt(e._limit)||9,_sort:e._sort||"salePrice:ASC",isPromotion:"true"===e.isPromotion,isFreeShip:"true"===e.isFreeShip})}),[a.search]),i=Object(r.useState)([]),o=Object(p.a)(i,2),u=o[0],b=o[1],m=Object(r.useState)({limit:9,total:10,page:1}),h=Object(p.a)(m,2),O=h[0],g=h[1],x=Object(r.useState)(!0),y=Object(p.a)(x,2),w=y[0],S=y[1];return Object(r.useEffect)((function(){Object(l.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.getAll(c);case 3:t=e.sent,n=t.data,r=t.pagination,b(n),g(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Failed to fetch product list: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))(),S(!1)}),[c]),Object(f.jsx)(ze.a,{children:Object(f.jsx)(Je.a,{children:Object(f.jsxs)(Ze.a,{container:!0,spacing:1,children:[Object(f.jsx)(Ze.a,{item:!0,className:t.left,children:Object(f.jsxs)(Qe.a,{elevation:0,children:[Object(f.jsx)(Ut,{filters:c,onChange:function(e){var t=Object(j.a)(Object(j.a)({},c),e);n.push({pathname:n.location.pathname,search:v.a.stringify(t)})}}),"left column"]})}),Object(f.jsx)(Ze.a,{item:!0,className:t.right,children:Object(f.jsxs)(Qe.a,{elevation:0,children:[Object(f.jsx)(Ft,{currentSort:c._sort,onChange:function(e){var t=Object(j.a)(Object(j.a)({},c),{},{_sort:e});n.push({pathname:n.location.pathname,search:v.a.stringify(t)})}}),Object(f.jsx)(Zt,{filters:c,onChange:function(e){n.push({pathname:n.location.pathname,search:v.a.stringify(e)})}}),w?Object(f.jsx)(Pt,{length:9}):Object(f.jsx)(_t,{data:u}),Object(f.jsx)(Ct.a,{color:"primary",count:Math.ceil(O.total/O.limit),page:O.page,onChange:function(e,t){var r=Object(j.a)(Object(j.a)({},c),{},{_page:t});n.push({pathname:n.location.pathname,search:v.a.stringify(r)})},className:t.pagination})]})})]})})})};var $t=function(e){var t=Object(d.i)();return Object(f.jsx)(ze.a,{pt:4,children:Object(f.jsxs)(d.d,{children:[Object(f.jsx)(d.b,{path:t.url,exact:!0,component:Yt}),Object(f.jsx)(d.b,{path:"".concat(t.url,"/:productId"),component:St})]})})};var en,tn=function(e){var t=Object(D.c)(He);return Object(f.jsxs)("div",{children:["Cart Feature ",t]})};K.a.h1(en||(en=Object(u.a)(["\n  text-align: center;\n  font-weight: bold;\n  color: ",";\n"])),(function(e){return e.color||"green"}));var nn=function(){return Object(r.useEffect)((function(){(function(){var e=Object(l.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={_limit:10},e.next=3,L.getAll(t);case 3:n=e.sent,console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(Te.b)().enqueueSnackbar,Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(Ke,{}),Object(f.jsxs)(d.d,{children:[Object(f.jsx)(d.a,{from:"/business-Page",to:"/products",exact:!0}),Object(f.jsx)(d.b,{path:"/todos",component:_}),Object(f.jsx)(d.b,{path:"/albums",component:F,exact:!0}),Object(f.jsx)(d.b,{path:"/products",component:$t}),Object(f.jsx)(d.b,{path:"/cart",component:tn}),Object(f.jsx)(d.b,{component:T})]})]})},rn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,435)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},an=(0,n(50).configureStore)({reducer:{counter:G,user:Ie,cart:pt}});i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(D.a,{store:an,children:Object(f.jsx)(ee.a,{children:Object(f.jsx)(Te.a,{anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(f.jsx)(nn,{})})})})}),document.getElementById("root")),rn()}},[[358,1,2]]]);
//# sourceMappingURL=main.7911db26.chunk.js.map